<html>
<!-- title of the page -->
    <head>
        <title>EPP.com</title>  
    </head>
    <body>
<!-- header of the page -->
        <h1>EPP.com</h1>
<!-- these are the buttons that will take you to the home and about pages -->
        <button onclick="document.location = 'index.html'"> Home </button>
        <button onclick = "document.location = 'about.html'"> About </button>
        <br><br>

        <p id="error-message"></p>
<!-- This is where you type the name for an event  -->
        <form id="form">
            Event Name: <input type="text" name="eventName" id="event-name" placeholder="Type Event Name Here">
            <br><br>
<!-- These are the buttons that will allow you to select the days of the week that you want to have the event on. -->
            Days:
            <button type="button" style="background-color: gainsboro;" id="b1" value="Sunday" onclick="changeColor(id)">Sunday</button>
            <button type="button" style="background-color: gainsboro;" id="b2" value="Monday" onclick="changeColor(id)">Monday</button>
            <button type="button" style="background-color: gainsboro;" id="b3" value="Tuesday" onclick="changeColor(id)">Tuesday</button>
            <button type="button" style="background-color: gainsboro;" id="b4" value="Wednesday" onclick="changeColor(id)">Wednesday</button>
            <button type="button" style="background-color: gainsboro;" id="b5" value="Thursday" onclick="changeColor(id)">Thursday</button>
            <button type="button" style="background-color: gainsboro;" id="b6" value="Friday" onclick="changeColor(id)">Friday</button>
            <button type="button" style="background-color: gainsboro;" id="b7" value="Saturday" onclick="changeColor(id)">Saturday</button>
        <br></br>
<!-- This is a dropdown menu that will allow the user to select the time interval they want their event on  -->
        <p>Times:</p>
        <label for="earliest-times">No earlier than:</label>
        <select name="earliest-times" id="earliest-times">
            <option value="24e">12:00 AM</option>
            <option value="1e">1:00 AM</option>
            <option value="2e">2:00 AM</option>
            <option value="3e">3:00 AM</option>
            <option value="4e">4:00 AM</option>
            <option value="5e">5:00 AM</option>
            <option value="6e">6:00 AM</option>
            <option value="7e">7:00 AM</option>
            <option value="8e">8:00 AM</option>
            <option value="9e">9:00 AM</option>
            <option value="10e">10:00 AM</option>
            <option value="11e">11:00 AM</option>
            <option value="12e">12:00 PM</option>
            <option value="13e">1:00 PM</option>
            <option value="14e">2:00 PM</option>
            <option value="15e">3:00 PM</option>
            <option value="16e">4:00 PM</option>
            <option value="17e">5:00 PM</option>
            <option value="18e">6:00 PM</option>
            <option value="19e">7:00 PM</option>
            <option value="20e">8:00 PM</option>
            <option value="21e">9:00 PM</option>
            <option value="22e">10:00 PM</option>
            <option value="23e">11:00 PM</option>
            <option value="24e">12:00 AM</option>
        </select>
        <br></br>

        <!-- <link rel ="stylesheet" href="styles.css">
        <div class="dropdown"> -->
        <label for="latest-times">No later than:</label>
        <select name="latest-times" id="latest-times">
            <option value="24l">12:00 AM</option>
            <option value="1l">1:00 AM</option>
            <option value="2l">2:00 AM</option>
            <option value="3l">3:00 AM</option>
            <option value="4l">4:00 AM</option>
            <option value="5l">5:00 AM</option>
            <option value="6l">6:00 AM</option>
            <option value="7l">7:00 AM</option>
            <option value="8l">8:00 AM</option>
            <option value="9l">9:00 AM</option>
            <option value="10l">10:00 AM</option>
            <option value="11l">11:00 AM</option>
            <option value="12l">12:00 PM</option>
            <option value="13l">1:00 PM</option>
            <option value="14l">2:00 PM</option>
            <option value="15l">3:00 PM</option>
            <option value="16l">4:00 PM</option>
            <option value="17l">5:00 PM</option>
            <option value="18l">6:00 PM</option>
            <option value="19l">7:00 PM</option>
            <option value="20l">8:00 PM</option>
            <option value="21l">9:00 PM</option>
            <option value="22l">10:00 PM</option>
            <option value="23l">11:00 PM</option>
            <option value="24l">12:00 AM</option>
        </select>
        <br></br>
<!-- This is the "create event" button -->
        <button id="create-event">Create Event</button>
    </form>
<!-- This function toggles the button's (Sunday-Saturday) color between lightgreen and gainsboro. -->
    <script>
        function changeColor(id) { 
            if (document.getElementById(id).style.backgroundColor == "gainsboro") {
                document.getElementById(id).style.backgroundColor = "lightgreen";
            } else {
                document.getElementById(id).style.backgroundColor = "gainsboro";
            }
        } 

        document.getElementById('create-event').addEventListener('click', (e) => {
            event.preventDefault();

            const jsonData = { // format data as JSON
                eventName: document.getElementById('event-name').value,
                earliestTime: document.getElementById('earliest-times').value,
                latestTime: document.getElementById('latest-times').value,
                timestamp: new Date().toISOString(),
            };

            // send JSON to backend
            fetch('http://localhost:8080/submit-form', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(jsonData),
            })
            .then(response => response.json())
            .then(data => {
                console.log('Data saved:', data);
            })
            .catch(error => {
                console.error('Error saving data:', error);
            });
        })
    </script>
    </body>    
</html>